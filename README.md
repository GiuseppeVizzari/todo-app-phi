# Privacy-First Todo App

A secure, modern, and persistent Todo Application built with **React**, **Vite**, and **Supabase**. This application features a robust MVVM architecture, user-specific data isolation via Row Level Security (RLS), and a seamless authentication flow.

## üöÄ Features

*   **Secure Authentication**: Log in via Magic Link using Supabase Auth.
*   **Data Isolation**: Each user can only see and manage their own todos (enforced by Database RLS).
*   **Persistent Storage**: All data is synced in real-time to a reliable cloud database.
*   **MVVM Architecture**: Clean separation of concerns between View, ViewModel, and Model/Service layers.
*   **Archive System**: Keep your active list clean by archiving completed tests.
*   **Responsive Design**: A clean, user-friendly interface that works on desktop and mobile.

## üõ† Tech Stack

*   **Frontend**: React 18, Vite
*   **Backend**: Supabase (PostgreSQL)
*   **Auth**: Supabase Auth (Magic Link)
*   **Styling**: Plain CSS (Clean & Maintainable)
*   **Deployment**: GitHub Pages (via GitHub Actions)

## üèó Architecture

This project follows the **Model-View-ViewModel (MVVM)** pattern:

*   **Model**: (`src/model/`) Defines the data structure (`TodoModel`) and business rules.
*   **View**: (`src/view/`) React components responsible for rendering the UI (`App.jsx`, `TodoList.jsx`).
*   **ViewModel**: (`src/viewmodel/`) Custom hooks (`useTodoViewModel`) that manage state and expose logic to the View.
*   **Service**: (`src/service/`) Handles communication with the Supabase backend.

## üì¶ Installation & Setup

### Prerequisites

*   Node.js (v18+)
*   A Supabase account

### 1. Clone the repository

```bash
git clone https://github.com/your-username/todo-app-phi.git
cd todo-app-phi
```

### 2. Install dependencies

```bash
npm install
```

### 3. Configure Environment Variables

Create a `.env` file in the root directory:

```env
VITE_SUPABASE_URL=your_supabase_project_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
```

### 4. Setup Supabase Database

Run the following SQL in your Supabase SQL Editor to set up the schema and security policies:

<details>
<summary>Click to view SQL</summary>

```sql
-- Create table
create table todos (
  id bigint generated by default as identity primary key,
  created_at timestamp with time zone default now(),
  text text not null,
  completed boolean default false,
  due_date timestamp with time zone,
  user_id text not null
);

-- Enable RLS
alter table todos enable row level security;

-- Policies
create policy "Users can view their own todos"
on todos for select using (auth.uid()::text = user_id);

create policy "Users can create their own todos"
on todos for insert with check (auth.uid()::text = user_id);

create policy "Users can update their own todos"
on todos for update using (auth.uid()::text = user_id);

create policy "Users can delete their own todos"
on todos for delete using (auth.uid()::text = user_id);
```
</details>

See [Supabase Tutorial](SUPABASE_TUTORIAL.md) for detailed setup.

### 5. Run Locally

```bash
npm run dev
```

Visit `http://localhost:5173` to see the app.

## üöÄ Deployment

The app is configured to deploy to **GitHub Pages**.

1.  Push code to `main`.
2.  Add `VITE_SUPABASE_URL` and `VITE_SUPABASE_ANON_KEY` to GitHub Repository Secrets.
3.  The included GitHub Actions workflow will build and deploy the site.

See [Deployment Guide](DEPLOYMENT.md) for more details.

## üìö Documentation

*   [Supabase Tutorial](SUPABASE_TUTORIAL.md)
*   [Deployment Checklist](DEPLOY_CHECKLIST.md)
